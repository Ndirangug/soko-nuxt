<template>
  <v-app>
    <v-main>
      <nuxt />
    </v-main>

    <v-footer>
      <div
        class="blog d-flex justify-center align-center flex-column py-8 px-2 pa-md-16"
      >
        <h2 class="text-capitalize text-h3">
          {{ $t('blog.featured_blog') }}
        </h2>
        <BlogPost class="my-10" :blog-post="blogPost" />
        <v-btn
          :href="blogPost.blogUrl"
          text
          target="_blank"
          color="primary"
          class="text-uppercase text-h6"
          :class="{ 'mt-n8': $vuetify.breakpoint.smAndDown }"
        >
          {{ $t('blog.read_more') }}
        </v-btn>
      </div>

      <div
        class="subscribe d-flex justify-center align-center flex-column px-2 pt-8 pb-3 pt-md-16 pb-md-10 px-md-16"
      >
        <h2 class="text-capitalize text-h3">{{ $t('subscribe.subscribe') }}</h2>
        <p class="text-center mt-4 mb-2 px-1 px-md-4">
          {{ $t('subscribe.subscribe_tip') }}
        </p>
        <Subscribe />
      </div>

      <Footer />
    </v-footer>
  </v-app>
</template>

<script lang="ts">
import Vue from 'vue'
import { BlogPost } from '~/apollo/queries/blog_post.graphql'

export default Vue.extend({
  // @ts-ignore
  apollo: {
    blogPost: {
      query: BlogPost,
      prefetch: true,
      variables() {
        return {
          blogPostID: 4,
        }
      },
    },
  },
})
</script>

<style lang="scss" scoped>
.blog {
  background-color: $grey-background;
}

.subscribe {
  background-color: $white;
}
</style>

<style lang="scss">
.v-footer {
  padding: 0 !important;
}
</style>
